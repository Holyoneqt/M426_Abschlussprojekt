<!DOCTYPE html>
<ui:composition template="WEB-INF/template.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets">

	<ui:define name="title">Address Book</ui:define>

	<ui:define name="content">
		<div class="container-fluid">
			<div class="row">
				<div class="col-md-8 col-xs-12">
					<table class="table table-responsive">
						<thead>
							<tr>
								<h:form>
								<td>Sort by:</td>
								<td>
									<h:selectOneMenu value="#{addressViewController.orderBy}" onchange="submit()"
									 valueChangeListener="#{addressViewController.orderByChanged}">
										<f:selectItem itemValue="lastname"
											itemLabel="Lastname" />
										<f:selectItem itemValue="firstname"
											itemLabel="Firstname" />
										<f:selectItem itemValue="phonenumber"
											itemLabel="Phone Number" />
										<f:selectItem itemValue="regdate"
											itemLabel="Registration Date" />
									</h:selectOneMenu>
								</td>
								</h:form>
							</tr>
							<tr>
								<th>Lastname</th>
								<th>Firstname</th>
								<th>Phone number</th>
								<th>Registration Date</th>
								<th>Email</th>
								<th>Category</th>
								<th>City</th>
								<th>Gender</th>
							</tr>
						</thead>
						<tbody>
							<ui:repeat var="address"
								value="#{addressViewController.addresses}">
								<tr>
									<td>#{address.lastname}</td>
									<td>#{address.firstname}</td>
									<td>#{address.phonenumber}</td>
									<td>#{address.registrationDate}</td>
									<td>#{address.email}</td>
									<td>#{address.category}</td>
									<td>#{address.city}</td>
									<td>#{address.gender}</td>
									<h:form>
										<td>
											<h:commandButton styleClass="btn btn-link" action="#{editAddressController.init(address)}" value="Edit" />
										</td>
									</h:form>
								</tr>
							</ui:repeat>
						</tbody>
					</table>
				</div>
			</div>
		</div>
	</ui:define>
</ui:composition>